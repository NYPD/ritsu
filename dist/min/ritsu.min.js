/* ritsu.js v0.1.0-beta.1 
 * Created 2016-09-22
 * Licensed under the MIT license
 * Source coude can be found here: https://github.com/NYPD/ritsu 
 */
var rules=function(){var a=function(){return/(^\d{5}([\s-]?\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} ?\d{1}[A-Z]{1}\d{1}$)/},b=function(){return/^([A-Za-z\s\.\-])+$/},c=function(){return/^([a-zA-Z0-9]+)$/},d=function(){return/^[-]?(([\d]{1,3}(,{1}[\d]{3})*)|[\d]+)$/},e=function(){return/^((-?[\d]{1,3}(,[\d]{3})*(\.[\d]{2})*)|-?[\d]+(\.[\d]{2})?)$/},f=function(a){var b=void 0===a;b&&(a=2);var c="^((([\\d]{1,3}(,[\\d]{3})*)?(\\.[\\d]{1,decimalPlaces})?)|[\\d]*(\\.[\\d]{1,decimalPlaces})?)$",d=new RegExp(c.replace(/decimalPlaces/g,a));return d},g=function(){return/^(\d{4})$/},h=function(){return/^(\d{2}\/\d{2}\/\d{4})$/};return{getAlphaZipRegex:a,getAlphaOnlyRegex:b,getAlphaNumericRegex:c,getNumericWholeRegex:d,getNumericMonetaryRegex:e,getNumericDecimalRegexString:f,getNumericFullYearRegex:g,getNumericDatePickerRegex:h}}(),ritsu=function(){var a=!1,b=!0,c=!1,d=function(d){var e="object"!=typeof d;if(e)throw"Invalid options to initialize ritsu.js";return a=void 0!==d.useBootstrap3Stlying&&d.useBootstrap3Stlying,b=void 0===d.autoMarkInvalidFields||d.autoMarkInvalidFields,c=void 0!==d.autoShowErrorMessages&&d.autoShowErrorMessages,this},e=function(a){var b=void 0===a;return b&&(a=$("input, textarea, select")),a.each(function(){var a=$(this),b=a.is('input[type="checkbox"]'),c=a.is('input[type="radio"]'),d=a.is('input[type="file"]');if(b||c)a.data("initialValue",a.is(":checked"));else if(d){var e=void 0!==a.data("simple-file-hash");if(e)return a.data("initialValue",a.data("simple-file-hash")),!0;var f=this.files.length>0,g=f?this.files[0].name+this.files[0].size+this.files[0].lastModified:"";a.data("initialValue",g)}else a.data("initialValue",a.val())}),this},f=function(a){var b=!1,c=void 0===a;return c&&(a=$("input, textarea, select")),a.each(function(){var a=$(this),c=void 0===a.data("initialValue");if(c)return!0;var d=a.is('input[type="checkbox"]'),e=a.is('input[type="radio"]'),f=a.is('input[type="file"]'),g=!1;if(d||e)g=a.data("initialValue")!=a.is(":checked");else if(f){var h=this.files.length>0;g=a.data("initialValue")!=(h?this.files[0].name+this.files[0].size+this.files[0].lastModified:a.data("simple-file-hash"))}else g=a.data("initialValue")!=a.val();return g?(b=!0,!1):void 0}),b},g=function(a){var d=void 0===a;d&&(a=$("input, textarea, select"));var e=!a.is("input, textarea, select");e&&(a=a.find("input, textarea, select"));var f=!0;return a.filter('textarea, input[type="text"]').each(function(){var a=$(this),b=a.prop("disabled")===!0;if(b)return!0;var c=a.hasClass("alpha"),d=a.hasClass("numeric"),e=a.hasClass("optional"),g=a.val(),h=""===$.trim(g)||void 0===g,i=h&&!e,m=h&&e,n=!m&&i,o=!m&&!i;o&&c&&(n=k(a)),o&&d&&(n=j(a)),n?(f=!1,a.data("invalid",!0)):(a.data("invalid",!1),l(a),a.parent("td").find(".error-label").remove())}),a.filter("select").each(function(){var a=$(this),b=a.prop("disabled")===!0;if(b)return!0;var c=a.val(),d=!a.hasClass("optional"),e=d&&(""===c||void 0===c||null===c);e?(f=!1,a.data("invalid",!0)):a.data("invalid",!1)}),b&&h(a),c&&i(a),f},h=function(b){var c=void 0===b;c&&(b=$("input, textarea, select"));var d=!b.is("input, textarea, select");return d&&(b=b.find("input, textarea, select")),b.each(function(){var b=$(this),c=a?b.closest(".form-group"):b,d=b.data("invalid");d?c.addClass("has-error"):c.removeClass("has-error")}),this},i=function(b){var c=void 0===b;c&&(b=$("input, textarea, select"));var d=!b.is("input, textarea, select");return d&&(b=b.find("input, textarea, select")),b.each(function(){var b=$(this),c=b.data("invalid"),d=m(b);if(a){var e=b.closest(".form-group");e.find(".help-block").remove(),c&&e.append('<span class="help-block">'+d+"</span>")}else{var f=b.attr("id"),g=0===b.closest(".error-label-container").length?b.parent():b.closest(".error-label-container");g.find(".error-label, .warning-label").remove(),c&&g.append('<label class="error-label"'+(f?' for="'+f+'"':"")+">"+d+"</label>")}}),this},j=function(a){var b=!1,c=a.val(),d=a.hasClass("numeric-whole"),e=a.hasClass("numeric-monetary"),f=a.hasClass("numeric-decimal"),g=a.hasClass("numeric-full-year"),h=a.hasClass("numeric-date-picker");if(d)b=!rules.getNumericWholeRegex().test(c);else if(e)b=!rules.getNumericMonetaryRegex().test(c);else if(f)b=!rules.getNumericDecimalRegexString(a.data("decimal-max")).test(c);else if(g)b=!rules.getNumericFullYearRegex().test(c);else if(h){b=!rules.getNumericDatePickerRegex().test(c);var i=a[0].hasAttribute("data-no-past-date");i&&!b&&(b=(new Date).getTime()>new Date(c))}if(!b){var j=(Number(c.replace(",","")),""===$.trim(a.attr("min"))?null:Number(a.attr("min"))),k=""===$.trim(a.attr("max"))?null:Number(a.attr("max")),l=null!==j,m=null!==k;l&&m?b=c<j||c>k:l?b=c<j:m&&(b=c>k)}return b},k=function(a){var b=!1,c=a.val(),d=(a.hasClass("alpha-all"),a.hasClass("alpha-only")),e=a.hasClass("alpha-zip"),f=a.hasClass("alpha-jquery-date"),g=a.hasClass("alpha-numeric");return d?b=!rules.getAlphaOnlyRegex().test(c):e?b=!rules.getAlphaZipRegex().test(c):f?b=null===a.datepicker("getDate"):g&&(b=!rules.getAlphaNumericRegex().test(c)),b},l=function(b){if(a)return void b.closest(".form-group").find(".help-block").remove();var c=b.closest(".error-label-container");0===c.length&&(c=b.parent()),c.find(".error-label, .warning-label").remove()},m=function(a){var b=a.hasClass("alpha");if(b){var c=a.hasClass("alpha-all");if(c)return null;var d=a.hasClass("alpha-only");if(d)return"Please enter only letters";var e=a.hasClass("alpha-zip");if(e)return"Please enter a valid zip code";var f=a.hasClass("alpha-jquery-date");if(f)return"Please select a date from the datepicker";var g=a.hasClass("alpha-numeric");if(g)return"Please enter only alphanumeric characters"}var h=a.hasClass("numeric");if(h){var i,j=a.hasClass("numeric-whole");j&&(i="Please enter a whole number");var k=a.hasClass("numeric-monetary");k&&(i="Please enter a monetary value");var l=a.hasClass("numeric-decimal");l&&(i="Please enter a number");var m=a.hasClass("numeric-full-year");m&&(i="Please enter a 4 digit year");var n=void 0!==a.attr("min"),o=void 0!==a.attr("max"),p=void 0!==a.data("decimal-max");return p&&(i+=" with "+a.data("decimal-max")+" decimal places max"),n&&o?i=i+" from "+a.attr("min")+" to "+a.attr("max"):n?i=i+" greater or equal to "+a.attr("min"):o&&(i=i+" lesser or equal to "+a.attr("max")),i+="."}return"Invalid Value"};return{initialize:d,storeInitialFormValues:e,isFormDirty:f,validate:g,markInvalidFields:h,showErrorMessages:i}}();