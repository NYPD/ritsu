/* ritsu.js v0.1.0-beta 
 * Created 2016-09-13
 * Licensed under the MIT license
 * Source coude can be found here: https://github.com/NYPD/ritsu 
 */
var rules=new function(){this.getAlphaZipRegex=function(){return/(^\d{5}([\s-]?\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} ?\d{1}[A-Z]{1}\d{1}$)/},this.getAlphaOnlyRegex=function(){return/^([A-Za-z\s\.\-])+$/},this.getAlphaNumericRegex=function(){return/^([a-zA-Z0-9]+)$/},this.getNumericWholeRegex=function(){return/^[-]?(([\d]{1,3}(,{1}[\d]{3})*)|[\d]+)$/},this.getNumericMonetaryRegex=function(){return/^((-?[\d]{1,3}(,[\d]{3})*(\.[\d]{2})*)|-?[\d]+(\.[\d]{2})?)$/},this.getNumericDecimalRegexString=function(a){var b=void 0===a;b&&(a=2);var c="^((([\\d]{1,3}(,[\\d]{3})*)?(\\.[\\d]{1,decimalPlaces})?)|[\\d]*(\\.[\\d]{1,decimalPlaces})?)$",d=new RegExp(c.replace(/decimalPlaces/g,a));return d},this.getNumericFullYearRegex=function(){return/^(\d{4})$/},this.getNumericDatePickerRegex=function(){return/^(\d{2}\/\d{2}\/\d{4})$/}},ritsu=new function(){this.useBootstrap3Stlying=!1,this.autoMarkInvalidFields=!0,this.autoShowErrorMessages=!1,this.initialize=function(a){var b="object"!=typeof a;if(b)throw"Invalid parameters to initialize ritsu.js";return this.useBootstrap3Stlying=void 0!==a.useBootstrap3Stlying&&a.useBootstrap3Stlying,this.autoMarkInvalidFields=void 0===a.autoMarkInvalidFields||a.autoMarkInvalidFields,this.autoShowErrorMessages=void 0!==a.autoShowErrorMessages&&a.autoShowErrorMessages,this},this.storeInitialFormValues=function(a){var b=void 0===a;return b&&(a=$("input, textarea, select")),a.each(function(){var a=$(this),b=a.is('input[type="checkbox"]'),c=a.is('input[type="radio"]'),d=a.is('input[type="file"]');if(b||c)a.data("initialValue",a.is(":checked"));else if(d){var e=void 0!==a.data("simple-file-hash");if(e)return a.data("initialValue",a.data("simple-file-hash")),!0;var f=this.files.length>0,g=f?this.files[0].name+this.files[0].size+this.files[0].lastModified:"";a.data("initialValue",g)}else a.data("initialValue",a.val())}),this},this.isFormDirty=function(a){var b=!1,c=void 0===a;return c&&(a=$("input, textarea, select")),a.each(function(){var a=$(this),c=void 0===a.data("initialValue");if(c)return!0;var d=a.is('input[type="checkbox"]'),e=a.is('input[type="radio"]'),f=a.is('input[type="file"]'),g=!1;if(d||e)g=a.data("initialValue")!=a.is(":checked");else if(f){var h=this.files.length>0;g=a.data("initialValue")!=(h?this.files[0].name+this.files[0].size+this.files[0].lastModified:a.data("simple-file-hash"))}else g=a.data("initialValue")!=a.val();return g?(b=!0,!1):void 0}),b},this.validate=function(d){var e=void 0===d;if(e)throw"No selector passed in";var f=!d.is('input[type="text"], textarea, select');f&&(d=d.find("input, textarea, select"));var g=!0;return d.filter('textarea, input[type="text"]').each(function(){var d=$(this),e=d.prop("disabled")===!0;if(e)return!0;var f=d.hasClass("alpha"),h=d.hasClass("numeric"),i=d.hasClass("optional"),j=d.val(),k=""===$.trim(j)||void 0===j,l=k&&!i,m=k&&i,n=!m&&l,o=!m&&!l;o&&f&&(n=b(d)),o&&h&&(n=a(d)),n?(g=!1,d.data("invalid",!0)):(d.data("invalid",!1),c(d),d.parent("td").find(".error-label").remove())}),d.filter("select").each(function(){var a=$(this),b=a.prop("disabled")===!0;if(b)return!0;var c=a.val(),d=!a.hasClass("optional"),e=d&&(""===c||void 0===c||null===c);e?(g=!1,a.data("invalid",!0)):a.data("invalid",!1)}),this.autoMarkInvalidFields&&this.markInvalidFields(d),this.autoShowErrorMessages&&this.showErrorMessages(d),g},this.markInvalidFields=function(a){var b=void 0===a;if(b)throw"No selector passed in";var c=!a.is('input[type="text"], textarea, select');return c&&(a=a.find("input, textarea, select")),a.each(function(){var a=$(this),b=ritsu.useBootstrap3Stlying?a.closest(".form-group"):a,c=a.data("invalid");c?b.addClass("has-error"):b.removeClass("has-error")}),this},this.showErrorMessages=function(a){var b=void 0===a;if(b)throw"No selector passed in";var c=!a.is('input[type="text"], textarea, select');return c&&(a=a.find("input, textarea, select")),a.each(function(){var a=$(this),b=a.data("invalid"),c=d(a);if(ritsu.useBootstrap3Stlying){var e=a.closest(".form-group");e.find(".help-block").remove(),b&&e.append('<span class="help-block">'+c+"</span>")}else{var f=a.attr("id"),g=0===a.closest(".error-label-container").length?a.parent():a.closest(".error-label-container");g.find(".error-label, .warning-label").remove(),b&&g.append('<label class="error-label"'+(f?' for="'+f+'"':"")+">"+c+"</label>")}}),this};var a=function(a){var b=!1,c=a.val(),d=a.hasClass("numeric-whole"),e=a.hasClass("numeric-monetary"),f=a.hasClass("numeric-decimal"),g=a.hasClass("numeric-full-year"),h=a.hasClass("numeric-date-picker");if(d)b=!rules.getNumericWholeRegex().test(c);else if(e)b=!rules.getNumericMonetaryRegex().test(c);else if(f)b=!rules.getNumericDecimalRegexString(a.data("decimal-max")).test(c);else if(g)b=!rules.getNumericFullYearRegex().test(c);else if(h){b=!rules.getNumericDatePickerRegex().test(c);var i=a[0].hasAttribute("data-no-past-date");i&&!b&&(b=(new Date).getTime()>new Date(c))}var j=void 0!==a.attr("min"),k=void 0!==a.attr("max");return b||(j&&k?b=c<a.attr("min")||c>a.attr("max"):j?b=c<a.attr("min"):k&&(b=c>a.attr("max"))),b},b=function(a){var b=!1,c=a.val(),d=(a.hasClass("alpha-all"),a.hasClass("alpha-only")),e=a.hasClass("alpha-zip"),f=a.hasClass("alpha-jquery-date"),g=a.hasClass("alpha-numeric");return d?b=!rules.getAlphaOnlyRegex().test(c):e?b=!rules.getAlphaZipRegex().test(c):f?b=null===a.datepicker("getDate"):g&&(b=!rules.getAlphaNumericRegex().test(c)),b},c=function(a){if(this.useBootstrap3Stlying)return void a.closest(".form-group").find(".help-block").remove();var b=a.closest(".error-label-container");0===b.length&&(b=a.parent()),b.find(".error-label, .warning-label").remove()},d=function(a){var b=a.hasClass("alpha");if(b){var c=a.hasClass("alpha-all");if(c)return null;var d=a.hasClass("alpha-only");if(d)return"Please enter only letters";var e=a.hasClass("alpha-zip");if(e)return"Please enter a valid zip code";var f=a.hasClass("alpha-jquery-date");if(f)return"Please select a date from the datepicker";var g=a.hasClass("alpha-numeric");if(g)return"Please enter only alphanumeric characters"}var h=a.hasClass("numeric");if(h){var i,j=a.hasClass("numeric-whole");j&&(i="Please enter a whole number");var k=a.hasClass("numeric-monetary");k&&(i="Please enter a monetary value");var l=a.hasClass("numeric-decimal");l&&(i="Please enter a number");var m=a.hasClass("numeric-full-year");m&&(i="Please enter a 4 digit year");var n=void 0!==a.attr("min"),o=void 0!==a.attr("max"),p=void 0!==a.data("decimal-max");return p&&(i+=" with "+a.data("decimal-max")+" decimal places max"),n&&o?i=i+" between "+a.attr("min")+" and "+a.attr("max"):n?i=i+" greater or equal to "+a.attr("min"):o&&(i=i+" lesser or equal to "+a.attr("max")),i+="."}return"Invalid Value"}};